<!doctype html>
<html>
<head>
  <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
  <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>

  <style>
    #ytframe {
      position: fixed;
      top: 8%;
      left: 50%;
      transform: translateX(-50%);
      width: 95%;
      height: 70%;
      border-radius: 18px;
      display: none;
      z-index: 9999;
      box-shadow: 0 0 30px rgba(0,0,0,0.6);
      background: black;
    }
  </style>

  <script>
    AFRAME.registerComponent('yt-handler', {
      init: function () {
        let marker = this.el;
        let iframe = document.querySelector("#ytframe");

        marker.addEventListener('markerFound', function () {
          iframe.style.display = "block";
          iframe.src = "https://www.youtube.com/embed/81DV4U10llg?autoplay=1&mute=0&controls=1&playsinline=1";
        });

        marker.addEventListener('markerLost', function () {
          iframe.style.display = "none";
          iframe.src = "";
        });
      }
    });
  </script>
</head>

<body style="margin:0; overflow:hidden;">

  <!-- YouTube Overlay -->
  <iframe 
    id="ytframe"
    frameborder="0"
    allow="autoplay; encrypted-media"
    allowfullscreen>
  </iframe>

  <a-scene
    embedded
    arjs="sourceType: webcam; debugUIEnabled: false;"
    vr-mode-ui="enabled:false"
  >

    <a-marker
      type="pattern"
      url="marker.patt"
      yt-handler
      smooth="true"
    >
      <!-- Visual AR plate -->
      <a-plane
        width="1.4"
        height="0.8"
        color="#111"
        position="0 0.1 0"
        rotation="-90 0 0"
        material="opacity:0.25"
      ></a-plane>

    </a-marker>

    <a-entity camera></a-entity>
  </a-scene>

</body>
</html>
