<!doctype html>
<html>
<head>
<meta charset="utf-8">

<script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
<script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>

<style>
body { margin: 0; overflow: hidden; background: black; }

#ytplayer {
    display: none;
    position: fixed;
    inset: 0;
    background: black;
    z-index: 9999;
}
iframe {
    width: 100%;
    height: 100%;
    border: none;
}
</style>

<script>
AFRAME.registerComponent('youtube-ar-player', {
    init: function () {
        const marker = this.el;
        const player = document.getElementById("ytplayer");
        const iframe = document.getElementById("ytframe");

        marker.addEventListener('markerFound', () => {
            player.style.display = "block";
            iframe.src = "https://www.youtube.com/embed/3zwMiJFDcGs?autoplay=1&controls=1&rel=0&modestbranding=1";
        });

        marker.addEventListener('markerLost', () => {
            player.style.display = "none";
            iframe.src = "";
        });
    }
});
</script>
</head>

<body>

<!-- YouTube Fullscreen Player -->
<div id="ytplayer">
    <iframe 
        id="ytframe"
        allow="autoplay; fullscreen; encrypted-media">
    </iframe>
</div>

<a-scene 
    embedded
    vr-mode-ui="enabled:false"
    arjs="sourceType:webcam; debugUIEnabled:false;"
    renderer="colorManagement:true">

<a-marker 
    preset="custom"
    url="marker.patt"
    youtube-ar-player
    smooth="true"
    smoothCount="15">

    <!-- AR Glow Frame -->
    <a-plane 
        width="1.4"
        height="0.9"
        position="0 0.1 0"
        rotation="-90 0 0"
        material="color:#00FFFF; opacity:0.2">
    </a-plane>

</a-marker>

<a-entity camera></a-entity>
</a-scene>

</body>
</html>
